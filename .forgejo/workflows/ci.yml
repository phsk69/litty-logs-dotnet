# ci pipeline â€” makes sure nothing is bricked before we merge no cap ğŸ”¥
name: ci

on:
  push:
    branches: [develop, main]
  pull_request:
    branches: [develop, main]

jobs:
  build-and-test:
    runs-on: linux
    steps:
      - name: yoink the code ğŸ“¥
        uses: actions/checkout@v4

      - name: litty build the whole solution bestie ğŸ—ï¸ğŸ”¥
        run: dotnet run --project src/LittyLogs.Tool -- build --configuration Release

      - name: litty test â€” 104 vibes to check ğŸ§ªğŸ”¥
        run: dotnet run --project src/LittyLogs.Tool -- test --configuration Release --no-build

      - name: pack to verify nupkgs build clean ğŸ“¦
        run: dotnet pack --configuration Release --no-build --output ./nupkgs

      - name: flex the artifacts ğŸ’…
        run: ls -la ./nupkgs/
